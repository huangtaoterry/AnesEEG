<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>éº»é†‰å­¦æµ‹éªŒï¼ˆè§£æ + ç»Ÿè®¡ï¼‰</title>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<style>
body { font-family: Arial, sans-serif; background: #f0f2f5; display:flex; justify-content:center; align-items:center; min-height:100vh; }
#app { background: white; padding: 20px; border-radius: 20px; width: 500px; text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.2); overflow: hidden; }
h2 { margin-bottom: 20px; }
.progress { height: 8px; background: #e9ecef; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
.progress-bar { height: 100%; background: #4caf50; transition: width 0.5s ease; }
.option { display: block; margin: 10px 0; padding: 12px; border-radius: 12px; background: #f8f9fa; cursor: pointer; border: 2px solid transparent; transition: transform 0.15s ease, background 0.2s; }
.option:hover { background: #e9ecef; transform: scale(1.02); }
.correct { border-color: #28a745; background: #d4edda; }
.wrong { border-color: #dc3545; background: #f8d7da; }
.score { font-size: 20px; margin-top: 20px; }
.explanation { margin-top: 10px; font-size: 14px; color: #555; background: #f1f3f5; padding: 10px; border-radius: 8px; }
button { margin-top: 15px; padding: 10px 20px; border: none; border-radius: 8px; background: #007bff; color: white; cursor: pointer; transition: transform 0.15s ease; }
button:hover { background: #0056b3; transform: scale(1.05); }
.fade-enter-active, .fade-leave-active { transition: opacity 0.5s; }
.fade-enter-from, .fade-leave-to { opacity: 0; }

.chart { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 20px; height: 200px; border-left: 1px solid #333; border-bottom: 1px solid #333; padding: 0 10px; }
.bar { width: 20px; margin: 0 5px; border-radius: 5px; text-align: center; color: white; font-size: 12px; }
.bar.correct { background: #28a745; }
.bar.wrong { background: #dc3545; }
</style>
</head>
<body>
<div id="app">
  <div v-if="finished">
    <h2>æµ‹éªŒå®Œæˆ ğŸ‰</h2>
    <p class="score">ä½ çš„å¾—åˆ†ï¼š{{ score }} / {{ questions.length }}</p>
    <div class="chart">
      <div v-for="(item,i) in history" :key="i" class="bar" 
           :class="{correct:item.correct, wrong:!item.correct}" 
           :style="{height: item.correct ? '100%' : '50%'}"
           :title="item.correct ? 'ç­”å¯¹' : 'ç­”é”™'">
        {{ i+1 }}
      </div>
    </div>
    <button @click="restart">é‡æ–°å¼€å§‹</button>
  </div>
  <div v-else>
    <h2>é¢˜ç›® {{ currentIndex + 1 }} / {{ questions.length }}</h2>
    <div class="progress">
      <div class="progress-bar" :style="{ width: progress + '%' }"></div>
    </div>
    <transition name="fade" mode="out-in">
      <div :key="currentIndex">
        <p>{{ currentQuestion.text }}</p>
        <div v-for="(opt, i) in currentQuestion.options" :key="i"
             class="option"
             :class="{ correct: selectedIndex === i && i === currentQuestion.answer,
                       wrong: selectedIndex === i && i !== currentQuestion.answer }"
             @click="selectAnswer(i)">
          {{ opt }}
        </div>
        <div v-if="showExplanation" class="explanation">
          <strong>è§£æï¼š</strong> {{ currentQuestion.explanation }}
        </div>
      </div>
    </transition>
  </div>
</div>

<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      questions: [
        { text: "éº»é†‰è¯±å¯¼æœŸæœ€å¸¸è§çš„è¡€æµåŠ¨åŠ›å­¦å˜åŒ–æ˜¯ï¼Ÿ", options: ["é«˜è¡€å‹","ä½è¡€å‹","å¿ƒåŠ¨è¿‡é€Ÿ","å¿ƒåŠ¨è¿‡ç¼“"], answer:1, explanation:"éº»é†‰è¯±å¯¼æœŸå¸¸ç”¨è¯ç‰©å¯å¯¼è‡´è¡€ç®¡æ‰©å¼ ï¼Œè¡€å‹ä¸‹é™ã€‚" },
        { text: "å…¨éº»ä¸­æœ€å¸¸ç”¨çš„è‚Œæ¾è¯æ˜¯ï¼Ÿ", options: ["ç»´åº“æº´é“µ","é˜¿æ›²åº“é“µ","ç¥ç€èƒ†ç¢±","ä¾æ‰˜å’ªé…¯"], answer:0, explanation:"ç»´åº“æº´é“µä½œç”¨æ—¶é—´é€‚ä¸­ï¼Œæ˜¯å¸¸ç”¨è‚Œæ¾è¯ã€‚" },
        { text: "å¿«é€Ÿåºè´¯è¯±å¯¼ä¸­é¦–é€‰çš„è‚Œæ¾è¯æ˜¯ï¼Ÿ", options:["ç¥ç€èƒ†ç¢±","ç»´åº“æº´é“µ","é˜¿æ›²åº“é“µ","å¸•åº“æº´é“µ"], answer:0, explanation:"ç¥ç€èƒ†ç¢±èµ·æ•ˆå¿«ï¼Œé€‚ç”¨äºå¿«é€Ÿæ’ç®¡ã€‚" },
        { text: "å±€éº»è¯åˆ©å¤šå¡å› çš„æœ€å¤§å®‰å…¨å‰‚é‡ï¼ˆæ— è‚¾ä¸Šè…ºç´ ï¼‰ä¸ºï¼Ÿ", options:["3 mg/kg","5 mg/kg","7 mg/kg","10 mg/kg"], answer:0, explanation:"åˆ©å¤šå¡å› æœ€å¤§å‰‚é‡é€šå¸¸ä¸º3 mg/kgã€‚" },
        { text: "å¸¸ç”¨å¸å…¥éº»é†‰å‰‚ä¸­ï¼Œè¡€/æ°”åˆ†é…ç³»æ•°æœ€å°çš„æ˜¯ï¼Ÿ", options:["å¼‚æ°Ÿé†š","ä¸ƒæ°Ÿé†š","ç¬‘æ°”","ä¸™æ³Šé…š"], answer:2, explanation:"ç¬‘æ°”è¡€/æ°”åˆ†é…ç³»æ•°æœ€ä½ï¼Œèµ·æ•ˆå¿«ã€‚" },
        { text: "æœ¯ä¸­ä½è¡€å‹æœ€å¸¸è§çš„åŸå› æ˜¯ï¼Ÿ", options:["å‡ºè¡€","éº»é†‰è¯å¼•èµ·","å¿ƒå¾‹å¤±å¸¸","ä½ä½“æ¸©"], answer:1, explanation:"éº»é†‰è¯å¯æ‰©å¼ è¡€ç®¡ã€æŠ‘åˆ¶å¿ƒåŠŸèƒ½ã€‚" },
        { text: "éº»é†‰è¯±å¯¼å¸¸ç”¨é™è„‰éº»é†‰è¯æ˜¯ï¼Ÿ", options:["å¼‚æ°Ÿé†š","ä¸ƒæ°Ÿé†š","ä¸™æ³Šé…š","æ°¯èƒºé…®"], answer:2, explanation:"ä¸™æ³Šé…šèµ·æ•ˆå¿«ï¼Œå¯ç”¨äºè¯±å¯¼ã€‚" },
        { text: "éº»é†‰ä¸­ç»´æŒæ°”é“é€šç•…çš„é‡‘æ ‡å‡†æ˜¯ï¼Ÿ", options:["é¢ç½©é€šæ°”","å–‰ç½©","æ°”ç®¡æ’ç®¡","é¼»å¯¼ç®¡"], answer:2, explanation:"æ°”ç®¡æ’ç®¡æ˜¯å…¨éº»ç»´æŒæ°”é“é€šç•…çš„é‡‘æ ‡å‡†ã€‚" },
        { text: "å¸å…¥éº»é†‰è¯å¼•èµ·å‘¼å¸æŠ‘åˆ¶çš„æœºåˆ¶ä¸»è¦æ˜¯ï¼Ÿ", options:["ä¸­æ¢ç¥ç»æŠ‘åˆ¶","å‘¼å¸è‚Œéº»ç—¹","æ°”é“é˜»å¡","è‚ºé¡ºåº”æ€§é™ä½"], answer:0, explanation:"å¸å…¥éº»é†‰è¯é€šè¿‡æŠ‘åˆ¶å‘¼å¸ä¸­æ¢å¼•èµ·å‘¼å¸æŠ‘åˆ¶ã€‚" },
        { text: "å±€éº»è¯è¿‡é‡ä¸­æ¯’æœ€å…¸å‹çš„è¡¨ç°æ˜¯ï¼Ÿ", options:["æ¶å¿ƒå‘•å","ä¸­æ¢å…´å¥‹ã€æŠ½æ","å‘¼å¸æµ…å¿«","è¡€å‹å‡é«˜"], answer:1, explanation:"å±€éº»è¯è¡€æµ“åº¦è¿‡é«˜å¯å¯¼è‡´æŠ½æã€‚" }
      ],
      currentIndex:0,
      selectedIndex:null,
      score:0,
      finished:false,
      showExplanation:false,
      history:[],
      audioCorrect:new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"),
      audioWrong:new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg")
    };
  },
  computed: {
    currentQuestion(){ return this.questions[this.currentIndex]; },
    progress(){ return ((this.currentIndex)/this.questions.length)*100; }
  },
  methods:{
    selectAnswer(i){
      if(this.selectedIndex!==null) return;
      this.selectedIndex=i;
      let correct = i===this.currentQuestion.answer;
      this.history.push({question:this.currentQuestion.text, correct});
      if(correct){ this.score++; this.audioCorrect.currentTime=0; this.audioCorrect.play();}
      else{ this.audioWrong.currentTime=0; this.audioWrong.play();}
      this.showExplanation=true;
      setTimeout(()=>{this.nextQuestion();},2000);
    },
    nextQuestion(){
      this.selectedIndex=null;
      this.showExplanation=false;
      if(this.currentIndex<this.questions.length-1){this.currentIndex++;}
      else{this.finished=true;}
    },
    restart(){
      this.currentIndex=0;
      this.score=0;
      this.finished=false;
      this.selectedIndex=null;
      this.showExplanation=false;
      this.history=[];
    }
  }
}).mount("#app");
</script>
</body>
</html>
